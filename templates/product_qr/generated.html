{% extends 'base.html' %}

{% block title %}QR-код сгенерирован{% endblock %}

{% block content %}
<div class="header">
    <h1>QR-код успешно сгенерирован</h1>
</div>

<div class="section">
    <h2>Информация о товаре</h2>
    <table>
        <tr>
            <th>ID</th>
            <td>{{ product.ID }}</td>
        </tr>
        <tr>
            <th>Название</th>
            <td>{{ product.NAME }}</td>
        </tr>
        {% if product.PRICE %}
        <tr>
            <th>Цена</th>
            <td class="amount">{{ product.PRICE }} {{ product.CURRENCY_ID }}</td>
        </tr>
        {% endif %}
    </table>
</div>

<div class="section">
    <h2>QR-код</h2>
    <div style="text-align: center; margin: 20px 0;">
        <img src="data:image/png;base64,{{ qr_image }}" alt="QR Code" style="max-width: 300px;">
    </div>

    <div style="margin-top: 20px;">
        <p><strong>Публичная ссылка:</strong></p>
        <p style="word-break: break-all; background: #f5f5f5; padding: 10px; border-radius: 4px;">
            {{ public_url }}
        </p>
    </div>

    <div style="margin-top: 20px;">
        <a href="data:image/png;base64,{{ qr_image }}" download="qr_product_{{ product.ID }}.png" class="btn btn-primary">
            Скачать QR-код
        </a>
        <a href="{% url 'product_qr:index' %}" class="btn btn-secondary">
            Сгенерировать еще
        </a>
    </div>
</div>
{% endblock %}
